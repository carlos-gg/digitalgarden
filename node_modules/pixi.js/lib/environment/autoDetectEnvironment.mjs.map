{"version":3,"file":"autoDetectEnvironment.mjs","sources":["../../src/environment/autoDetectEnvironment.ts"],"sourcesContent":["import { extensions, ExtensionType } from '../extensions/Extensions';\n\nconst environments: { name: string; value: { test: () => boolean; load: () => Promise<boolean> } }[] = [];\n\nextensions.handleByNamedList(ExtensionType.Environment, environments);\n\n/**\n * Automatically detects the environment and loads the appropriate extensions.\n * @param skip - whether to skip loading the default extensions\n */\nexport async function loadEnvironmentExtensions(skip: boolean): Promise<void>\n{\n    if (skip) return;\n\n    for (let i = 0; i < environments.length; i++)\n    {\n        const env = environments[i];\n\n        if (env.value.test())\n        {\n            await env.value.load();\n\n            return;\n        }\n    }\n}\n\n/**\n * @param add - whether to add the default imports to the bundle\n * @deprecated since 8.1.6. Use `loadEnvironmentExtensions` instead\n */\nexport async function autoDetectEnvironment(add: boolean): Promise<void>\n{\n    return loadEnvironmentExtensions(!add);\n}\n"],"names":[],"mappings":";;;AAEA,MAAM,eAAiG,EAAC,CAAA;AAExG,UAAW,CAAA,iBAAA,CAAkB,aAAc,CAAA,WAAA,EAAa,YAAY,CAAA,CAAA;AAMpE,eAAsB,0BAA0B,IAChD,EAAA;AACI,EAAI,IAAA,IAAA;AAAM,IAAA,OAAA;AAEV,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,YAAA,CAAa,QAAQ,CACzC,EAAA,EAAA;AACI,IAAM,MAAA,GAAA,GAAM,aAAa,CAAC,CAAA,CAAA;AAE1B,IAAI,IAAA,GAAA,CAAI,KAAM,CAAA,IAAA,EACd,EAAA;AACI,MAAM,MAAA,GAAA,CAAI,MAAM,IAAK,EAAA,CAAA;AAErB,MAAA,OAAA;AAAA,KACJ;AAAA,GACJ;AACJ,CAAA;AAMA,eAAsB,sBAAsB,GAC5C,EAAA;AACI,EAAO,OAAA,yBAAA,CAA0B,CAAC,GAAG,CAAA,CAAA;AACzC;;;;"}